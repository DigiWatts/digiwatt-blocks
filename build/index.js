!function(e){var t={};function r(a){if(t[a])return t[a].exports;var n=t[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(a,n,function(t){return e[t]}.bind(null,n));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=10)}([function(e,t){e.exports=window.wp.element},function(e,t){e.exports=window.wp.i18n},function(e,t){e.exports=window.wp.blockEditor},function(e,t){e.exports=window.wp.components},function(e,t){e.exports=window.lodash},function(e,t){e.exports=window.wp.blocks},function(e,t){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=window.wp.data},function(e,t){e.exports=window.wp.coreData},function(e,t){e.exports=window.wp.date},function(e,t,r){"use strict";r.r(t);var a=r(0),n=r(1),c=r(5),l=r(2),i=r(3);Object(c.registerBlockType)("dwb/tagline-block",{title:Object(n.__)("Tagline","dwb"),icon:"format-status",category:"text",attributes:{title:{type:"array",source:"children",selector:"h1"},mediaID:{type:"number"},mediaURL:{type:"string",source:"attribute",selector:"img",attribute:"src"},bg_color:{type:"string",default:"#8ed2fc"},align:{type:"string"}},supports:{align:["wide","full"]},edit:function(e){var t=e.className,r=e.attributes,c=r.title,o=r.mediaID,s=r.mediaURL,u=r.bg_color,m=e.setAttributes;return Object(a.createElement)(a.Fragment,null,Object(a.createElement)(l.InspectorControls,{key:"setting"},Object(a.createElement)("div",{id:"digiwatt-tagline-controls"},Object(a.createElement)("fieldset",null,Object(a.createElement)("legend",{className:"blocks-base-control__label"},Object(n.__)("Background color","gutenpride")),Object(a.createElement)(l.ColorPalette,{onChange:function(e){m({bg_color:e})}})))),Object(a.createElement)("div",{className:t,style:{backgroundColor:u}},Object(a.createElement)("div",{className:"tagline-wrapper"},Object(a.createElement)(l.MediaUpload,{onSelect:function(e){m({mediaURL:e.url,mediaID:e.id})},allowedTypes:"image",value:o,render:function(e){var t=e.open;return Object(a.createElement)(i.Button,{className:o?"image-button":"button button-large",onClick:t},o?Object(a.createElement)("div",{className:"image-wrapper"},Object(a.createElement)("img",{className:"tagline-image",src:s,alt:Object(n.__)("tagline image","dwb")})):Object(n.__)("Upload Image","dwb"))}}),Object(a.createElement)("div",{className:"title-wrap"},Object(a.createElement)(l.RichText,{tagName:"h1",placeholder:Object(n.__)("Tagline","dwb"),value:c,onChange:function(e){m({title:e})}})))))},save:function(e){var t=e.className,r=e.attributes,c=r.title,i=r.mediaURL,o=r.bg_color;return Object(a.createElement)("div",{className:t,style:{backgroundColor:o}},Object(a.createElement)("div",{className:"tagline-wrapper"},i&&Object(a.createElement)("div",{className:"image-wrapper"},Object(a.createElement)("img",{className:"tagline-image",src:i,alt:Object(n.__)("tagline image","dwb")})),Object(a.createElement)("div",{className:"title-wrap"},Object(a.createElement)(l.RichText.Content,{tagName:"h1",value:c}))))}}),Object(c.registerBlockType)("dwb/about-block",{title:Object(n.__)("About","dwb"),icon:"editor-quote",category:"text",attributes:{text:{type:"array",source:"children",selector:"p"},mediaID:{type:"number"},mediaURL:{type:"string"},align:{type:"string"}},supports:{align:["wide","full"]},edit:function(e){var t=e.className,r=e.attributes,c=r.text,o=r.mediaID,s=r.mediaURL,u=e.setAttributes,m=function(e){u({mediaURL:e.url,mediaID:e.id})},d={background:0!=s?'url("'+s+'") no-repeat center center fixed':"none"};return Object(a.createElement)(a.Fragment,null,Object(a.createElement)("div",{className:t},Object(a.createElement)("div",{className:"image-wrap",style:d},Object(a.createElement)(l.MediaUploadCheck,null,Object(a.createElement)(l.MediaUpload,{onSelect:m,allowedTypes:"image",value:o,render:function(e){var t=e.open;return Object(a.createElement)(i.Button,{className:o?"image-button":"button button-large",onClick:t},o?"":Object(n.__)("Upload Image","dwb"))}})),0!=o&&Object(a.createElement)(l.MediaUploadCheck,null,Object(a.createElement)(l.MediaUpload,{title:Object(n.__)("Replace image","awp"),value:o,onSelect:m,allowedTypes:["image"],render:function(e){var t=e.open;return Object(a.createElement)(i.Button,{onClick:t,isSecondary:!0,className:"replace-image"},Object(n.__)("Replace image","dwb"))}})),0!=o&&Object(a.createElement)(l.MediaUploadCheck,null,Object(a.createElement)(i.Button,{onClick:function(){u({mediaID:0,mediaURL:""})},isLink:!0,isDestructive:!0,className:"remove-image"},Object(n.__)("Remove image","dwb")))),Object(a.createElement)("div",{className:"about-text-wrap"},Object(a.createElement)("div",{className:"text-inner"},Object(a.createElement)(l.RichText,{tagName:"p",placeholder:Object(n.__)("Sample text","dwb"),value:c,onChange:function(e){u({text:e})}})))))},save:function(e){var t=e.className,r=e.attributes,n=r.text,c=r.mediaURL,i={background:0!=c?'url("'+c+'") no-repeat center center fixed':"none"};return Object(a.createElement)("div",{className:t},Object(a.createElement)("div",{className:"image-wrap",style:i}),Object(a.createElement)("div",{className:"about-text-wrap"},Object(a.createElement)("div",{className:"text-inner"},Object(a.createElement)(l.RichText.Content,{tagName:"p",value:n}))))}});var o=r(6),s=r.n(o),u=r(4),m=(r(9),r(7)),d=r(8);function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){s()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}Object(c.registerBlockType)("dwb/home-grid",{title:"Home Grid",icon:"editor-table",category:"common",attributes:{},edit:function(e){var t=e.attributes,r=(e.setAttributes,t.featuredImageSizeSlug),c=t.featuredImageSizeWidth,o=t.featuredImageSizeHeight,s=Object(m.useSelect)((function(e){var t=e(d.store),a=t.getEntityRecords,n=t.getMedia,c=(0,e(l.store).getSettings)(),i=c.imageSizes,o=c.imageDimensions,s=a("postType","post",Object(u.pickBy)({per_page:3},(function(e){return!Object(u.isUndefined)(e)})));return{defaultImageWidth:Object(u.get)(o,[r,"width"],0),defaultImageHeight:Object(u.get)(o,[r,"height"],0),imageSizeOptions:i.filter((function(e){return"full"!==e.slug})).map((function(e){var t=e.name;return{value:e.slug,label:t}})),latestPosts:Array.isArray(s)?s.map((function(e){if(!e.featured_media)return e;var t=n(e.featured_media),a=Object(u.get)(t,["media_details","sizes",r,"source_url"],null);a||(a=Object(u.get)(t,"source_url",null));var c={url:a,alt:null==t?void 0:t.alt_text};return p(p({},e),{},{featuredImageInfo:c})})):s}}),[r,3]),b=(s.imageSizeOptions,s.latestPosts);if(s.defaultImageWidth,s.defaultImageHeight,null==b||!b.length)return Object(a.createElement)("div",null,Array.isArray(b)?Object(n.__)("No posts found."):Object(a.createElement)(i.Spinner,null));var g=b.length>3?b.slice(0,3):b;return Object(a.createElement)("div",{className:["columns-2","wp-block-dwb-home-grid-block"].join(" ")},g.map((function(e,t){var r=Object(u.invoke)(e,["title","rendered","trim"]),n=e.featuredImageInfo,l=(n=void 0===n?{}:n).url,i=n.alt,s=Object(a.createElement)("img",{src:l,alt:i,style:{maxWidth:c,maxHeight:o}});return Object(a.createElement)("div",{className:"home-grid-post",key:t},Object(a.createElement)("div",{className:"img-responsive"},Object(a.createElement)("a",{href:e.link,rel:"noreferrer noopener"},s)),Object(a.createElement)("div",{className:"title"},Object(a.createElement)("h3",null,Object(a.createElement)(a.RawHTML,null,r))),Object(a.createElement)("div",{className:"excerpt"},function(e){var t=e.excerpt.rendered,r=document.createElement("div");return r.innerHTML=t,35<(t=r.textContent||r.innerText||"").trim().split(" ").length&&""===e.excerpt.raw?Object(a.createElement)(a.Fragment,null,t.trim().split(" ",35).join(" "),Object(a.createElement)("a",{href:e.link,rel:"noreferrer noopener"},"read more...")):t}(e)))})))}})}]);