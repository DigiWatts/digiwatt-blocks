!function(e){var t={};function a(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=t,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(r,n,function(t){return e[t]}.bind(null,n));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=12)}([function(e,t){e.exports=window.wp.element},function(e,t){e.exports=window.wp.i18n},function(e,t){e.exports=window.wp.blockEditor},function(e,t){e.exports=window.wp.components},function(e,t){e.exports=window.wp.blocks},function(e,t){e.exports=window.lodash},function(e,t){e.exports=window.wp.data},function(e,t){e.exports=window.wp.coreData},function(e,t){e.exports=window.wp.date},function(e,t){e.exports=window.wp.wordcount},function(e,t){e.exports=function(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=window.wp.compose},function(e,t,a){"use strict";a.r(t);var r=a(0),n=a(1),l=a(4),c=a(2),i=a(3);Object(l.registerBlockType)("dwb/about-block",{title:Object(n.__)("About","dwb"),icon:"editor-quote",category:"text",attributes:{text:{type:"array",source:"children",selector:"p"},mediaID:{type:"number"},mediaURL:{type:"string"},align:{type:"string"}},supports:{align:["wide","full"]},edit:function(e){var t=e.className,a=e.attributes,l=a.text,o=a.mediaID,s=a.mediaURL,u=e.setAttributes,m=function(e){u({mediaURL:e.url,mediaID:e.id})},d={background:0!=s?'url("'+s+'") no-repeat center center fixed':"none"};return Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:t},Object(r.createElement)("div",{className:"image-wrap",style:d},Object(r.createElement)(c.MediaUploadCheck,null,Object(r.createElement)(c.MediaUpload,{onSelect:m,allowedTypes:"image",value:o,render:function(e){var t=e.open;return Object(r.createElement)(i.Button,{className:o?"image-button":"button button-large",onClick:t},o?"":Object(n.__)("Upload Image","dwb"))}})),0!=o&&Object(r.createElement)(c.MediaUploadCheck,null,Object(r.createElement)(c.MediaUpload,{title:Object(n.__)("Replace image","awp"),value:o,onSelect:m,allowedTypes:["image"],render:function(e){var t=e.open;return Object(r.createElement)(i.Button,{onClick:t,isSecondary:!0,className:"replace-image"},Object(n.__)("Replace image","dwb"))}})),0!=o&&Object(r.createElement)(c.MediaUploadCheck,null,Object(r.createElement)(i.Button,{onClick:function(){u({mediaID:0,mediaURL:""})},isLink:!0,isDestructive:!0,className:"remove-image"},Object(n.__)("Remove image","dwb")))),Object(r.createElement)("div",{className:"about-text-wrap"},Object(r.createElement)("div",{className:"text-inner"},Object(r.createElement)(c.RichText,{tagName:"p",placeholder:Object(n.__)("Sample text","dwb"),value:l,onChange:function(e){u({text:e})}})))))},save:function(e){var t=e.className,a=e.attributes,n=a.text,l=a.mediaURL,i={background:0!=l?'url("'+l+'") no-repeat center center fixed':"none"};return Object(r.createElement)("div",{className:t},Object(r.createElement)("div",{className:"image-wrap",style:i}),Object(r.createElement)("div",{className:"about-text-wrap"},Object(r.createElement)("div",{className:"text-inner"},Object(r.createElement)(c.RichText.Content,{tagName:"p",value:n}))))}});var o=a(10),s=a.n(o),u=a(5),m=a(8),d=a(6),b=a(7);function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(Object(a),!0).forEach((function(t){s()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}Object(l.registerBlockType)("dwb/home-grid",{title:"Home Grid",icon:"editor-table",category:"common",attributes:{postsToShow:{type:"number",default:3},excerptLength:{type:"number",default:35},columns:{type:"number",default:2},order:{type:"string",default:"desc"},orderBy:{type:"string",default:"date"},featuredImageSizeSlug:{type:"string",default:"digiwatt-home-grid"},featuredImageSizeWidth:{type:"number",default:null},featuredImageSizeHeight:{type:"number",default:null},featuredImageLargeSizeSlug:{type:"string",default:"digiwatt-home-grid-large"},featuredPostExcerptLength:{type:"number",default:95}},edit:function(e){var t=e.attributes,a=e.setAttributes,l=t.postsToShow,o=t.excerptLength,s=t.featuredImageSizeSlug,m=t.featuredImageSizeWidth,g=t.featuredImageSizeHeight,f=t.featuredPostExcerptLength,O=Object(d.useSelect)((function(e){var t=e(b.store),a=t.getEntityRecords,r=t.getMedia,n=(0,e(c.store).getSettings)(),i=n.imageSizes,o=n.imageDimensions,m=a("postType","post",Object(u.pickBy)({per_page:l},(function(e){return!Object(u.isUndefined)(e)})));return{defaultImageWidth:Object(u.get)(o,[s,"width"],0),defaultImageHeight:Object(u.get)(o,[s,"height"],0),imageSizeOptions:i.filter((function(e){return"full"!==e.slug})).map((function(e){var t=e.name;return{value:e.slug,label:t}})),latestPosts:Array.isArray(m)?m.map((function(e){if(!e.featured_media)return e;var t=r(e.featured_media),a=Object(u.get)(t,["media_details","sizes",s,"source_url"],null);a||(a=Object(u.get)(t,"source_url",null));var n={url:a,alt:null==t?void 0:t.alt_text};return p(p({},e),{},{featuredImageInfo:n})})):m}}),[s,l]),j=(O.imageSizeOptions,O.latestPosts),E=(O.defaultImageWidth,O.defaultImageHeight,!(null==j||!j.length)),v=Object(r.createElement)(c.InspectorControls,null,Object(r.createElement)(i.Panel,null,Object(r.createElement)(i.PanelBody,{title:Object(n.__)("Home Grid","dwb"),icon:"editor-table"},Object(r.createElement)(i.RangeControl,{label:Object(n.__)("Posts"),value:l,onChange:function(e){return a({postsToShow:e})},min:3,max:6,required:!0}),Object(r.createElement)(i.RangeControl,{label:Object(n.__)("Excerpt Length"),value:o,onChange:function(e){return a({excerptLength:e})},min:30,max:35,required:!0}),Object(r.createElement)(i.RangeControl,{label:Object(n.__)("Featured Post Excerpt Length"),value:f,onChange:function(e){return a({featuredPostExcerptLength:e})},min:30,max:125,required:!0}))));if(!E)return Object(r.createElement)("div",null,Array.isArray(j)?Object(n.__)("No posts found."):Object(r.createElement)(i.Spinner,null));var y=j.length>l?j.slice(0,l):j;return Object(r.createElement)("div",null,v,Object(r.createElement)("div",{className:["wp-block-dwb-home-grid-block"].join(" ")},y.map((function(e,t){var a=Object(u.invoke)(e,["title","rendered","trim"]),n=e.featuredImageInfo,l=(n=void 0===n?{}:n).url,c=n.alt,i=Object(r.createElement)("img",{src:l,alt:c,style:{maxWidth:m,maxHeight:g}});return Object(r.createElement)("div",{className:"home-grid-post",key:t},Object(r.createElement)("div",{className:"img-responsive"},Object(r.createElement)("a",{href:e.link,rel:"noreferrer noopener"},i)),Object(r.createElement)("div",{className:"title"},Object(r.createElement)("h3",null,Object(r.createElement)(r.RawHTML,null,a))),Object(r.createElement)("div",{className:"excerpt"},function(e){var t=e.excerpt.rendered,a=document.createElement("div");return a.innerHTML=t,t=a.textContent||a.innerText||"",o<t.trim().split(" ").length&&""===e.excerpt.raw?Object(r.createElement)(r.Fragment,null,t.trim().split(" ",o).join(" "),Object(r.createElement)("a",{href:e.link,rel:"noreferrer noopener"},"read more...")):t}(e)))}))))}});var f=a(9);a(11),Object(l.registerBlockType)("dwb/post-header",{title:"Post Header",icon:"layout",apiVersion:2,category:"common",attributes:{align:{type:"string",default:"full"},backgroundColor:{type:"string"},featuredImageSizeSlug:{type:"string",default:"digiwatt-home-grid"},featuredImageSizeWidth:{type:"number",default:null},featuredImageSizeHeight:{type:"number",default:null},imageAlign:{type:"string",default:"right"},textColor:{type:"string"}},supports:{align:["wide","full"],imageAlign:["left","right"]},edit:function(e){var t=e.attributes,a=e.setAttributes,l=(t.className,t.align,t.featuredImageSizeSlug),o=t.featuredImageSizeWidth,s=t.featuredImageSizeHeight,g=t.imageAlign,p=t.backgroundColor,f=t.textColor,O=Object(d.useSelect)((function(e){var t,a=e(b.store),n=a.getUser,i=a.getMedia,m=a.getEditedEntityRecord,d=(0,e(c.store).getSettings)(),g=(d.imageSizes,d.imageDimensions,e("core/editor").getCurrentPostId()),p=m("postType","post",g),f=p.title,O=null===(t=m("postType","post",g))||void 0===t?void 0:t.author,j=i(p.featured_media),E=Object(u.get)(j,["media_details","sizes",l,"source_url"],null),v=null==j?void 0:j.alt_text,y=Object(r.createElement)("img",{src:E,alt:v,style:{maxWidth:o,maxHeight:s}});return{post:p,postID:g,postTitle:f,postAuthorDetails:O?n(O):null,postImage:E?y:null}})),j=O.post,E=(O.postID,O.postTitle),v=O.postAuthorDetails,y=O.postImage,w=Object.keys(j),h=!(null==w||!w.length),_=Object(r.createElement)(c.InspectorControls,null,Object(r.createElement)(i.Panel,null,Object(r.createElement)(c.PanelColorSettings,{title:Object(n.__)("Color Settings","dwb"),colorSettings:[{value:f,onChange:function(e){a({textColor:e})},label:Object(n.__)("Text Color")},{value:p,onChange:function(e){a({backgroundColor:e})},label:Object(n.__)("Background Color")}]}),Object(r.createElement)(i.PanelBody,{title:"Image Settings",initialOpen:!0},Object(r.createElement)(i.PanelRow,null,Object(r.createElement)(i.RadioControl,{label:"Alignement",selected:g,options:[{label:"Left",value:"left"},{label:"Right",value:"right"}],onChange:function(e){a({imageAlign:e})}})))));if(!h)return Object(r.createElement)("div",null,Array.isArray(j)?Object(n.__)("No post found."):Object(r.createElement)(i.Spinner,null));var x=Object(c.useBlockProps)({style:{color:null!=f?f:"",backgroundColor:null!=p?p:""}});return Object(r.createElement)(r.Fragment,null,_,Object(r.createElement)("header",x,Object(r.createElement)("div",{className:"columns image-"+g},Object(r.createElement)("div",{className:"column"},Object(r.createElement)("div",{className:"header-content"},Object(r.createElement)("div",{className:"title"},Object(r.createElement)("h1",{className:"entry-title"},E)),Object(r.createElement)("div",{className:"meta"},Object(r.createElement)("div",{className:"entry-date"},Object(r.createElement)("a",{className:"header-link",href:j.link,rel:"bookmark"},Object(r.createElement)("time",{dateTime:Object(m.date)("c",j.date),className:"entry-date"},Object(m.date)("F j, Y",j.date)))),Object(r.createElement)("div",{className:"byline"},Object(r.createElement)("span",{className:"author vcard"},Object(r.createElement)("a",{className:"url fn n",href:v?v.link:"#",rel:"author"},"By ",v?v.name:"")))))),y?Object(r.createElement)("div",{className:"column"},y):Object(r.createElement)("div",{className:"column no-thumb"}))))}}),Object(l.registerBlockType)("dwb/read-time",{title:"Read Time",icon:"clock",category:"common",attributes:{readTimeText:{type:"string",default:"Minute Read"},timePosition:{type:"string",default:"after"}},edit:function(e){var t,a,l=e.attributes,o=e.setAttributes,s=l.className,u=l.readTimeText,m=l.timePosition,g=Object(d.useSelect)((function(e){return{post:(0,e(b.store).getEntityRecord)("postType","post",e("core/editor").getCurrentPostId())}})).post,p=Object(r.createElement)(c.InspectorControls,null,Object(r.createElement)(i.PanelBody,{title:Object(n.__)("Read Table","dwb"),icon:"clock"},Object(r.createElement)(i.PanelRow,null,Object(r.createElement)(i.SelectControl,{label:"Time Position",labelPosition:"side",value:l.timePosition,options:[{label:"Before",value:"before"},{label:"After",value:"after"}],onChange:function(e){return o({timePosition:e})}})),Object(r.createElement)(i.PanelRow,null,Object(r.createElement)(i.__experimentalInputControl,{label:"Text",labelPosition:"side",value:l.readTimeText,onChange:function(e){return o({readTimeText:e})}}))));return Object(r.createElement)("div",null,p,Object(r.createElement)("div",{className:s},(t=Object(f.count)(g.content.raw,"words",{}),a=Math.ceil(t/200),"before"==m?u+" "+a:a+" "+u)))}}),Object(l.registerBlockType)("dwb/tagline-block",{title:Object(n.__)("Tagline","dwb"),icon:"format-status",category:"text",attributes:{title:{type:"array",source:"children",selector:"h1"},mediaID:{type:"number"},mediaURL:{type:"string",source:"attribute",selector:"img",attribute:"src"},bg_color:{type:"string",default:"#8ed2fc"},align:{type:"string"}},supports:{align:["wide","full"]},edit:function(e){var t=e.className,a=e.attributes,l=a.title,o=a.mediaID,s=a.mediaURL,u=a.bg_color,m=e.setAttributes;return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(c.InspectorControls,{key:"setting"},Object(r.createElement)("div",{id:"digiwatt-tagline-controls"},Object(r.createElement)("fieldset",null,Object(r.createElement)("legend",{className:"blocks-base-control__label"},Object(n.__)("Background color","gutenpride")),Object(r.createElement)(c.ColorPalette,{onChange:function(e){m({bg_color:e})}})))),Object(r.createElement)("div",{className:t,style:{backgroundColor:u}},Object(r.createElement)("div",{className:"tagline-wrapper"},Object(r.createElement)(c.MediaUpload,{onSelect:function(e){m({mediaURL:e.url,mediaID:e.id})},allowedTypes:"image",value:o,render:function(e){var t=e.open;return Object(r.createElement)(i.Button,{className:o?"image-button":"button button-large",onClick:t},o?Object(r.createElement)("div",{className:"image-wrapper"},Object(r.createElement)("img",{className:"tagline-image",src:s,alt:Object(n.__)("tagline image","dwb")})):Object(n.__)("Upload Image","dwb"))}}),Object(r.createElement)("div",{className:"title-wrap"},Object(r.createElement)(c.RichText,{tagName:"h1",placeholder:Object(n.__)("Tagline","dwb"),value:l,onChange:function(e){m({title:e})}})))))},save:function(e){var t=e.className,a=e.attributes,l=a.title,i=a.mediaURL,o=a.bg_color;return Object(r.createElement)("div",{className:t,style:{backgroundColor:o}},Object(r.createElement)("div",{className:"tagline-wrapper"},i&&Object(r.createElement)("div",{className:"image-wrapper"},Object(r.createElement)("img",{className:"tagline-image",src:i,alt:Object(n.__)("tagline image","dwb")})),Object(r.createElement)("div",{className:"title-wrap"},Object(r.createElement)(c.RichText.Content,{tagName:"h1",value:l}))))}})}]);